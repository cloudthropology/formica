resource(s3.Bucket(
    'TestBucket',
    NotificationConfiguration=s3.NotificationConfiguration(
        LambdaConfigurations=[
            s3.LambdaConfigurations(
                Function=GetAtt('S3Function', 'Arn'),
                Event='s3:ObjectCreated:*',
            ),
            s3.LambdaConfigurations(
                Function=GetAtt('S3Function', 'Arn'),
                Event='s3:ObjectRemoved:*',
            )
        ]
    )
)
)
